<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Admin | Cezalar</title>
    <style>
        *
        { 
            box-sizing:border-box;
        }

        body
        {
            margin:0;
            height:100vh;
            display:flex;
            font-family:Segoe UI,sans-serif;
            background:#f3f4f6;
        }

        .sidebar
        {
            width:240px;
            background:#111827;
            color:white;
            padding:20px;
        }

        .sidebar h2
        { 
            text-align:center; 
            margin-bottom:25px; 
        }

        .sidebar button
        {
            width:100%;
            padding:12px;
            margin:6px 0;
            background:none;
            border:none;
            color:white;
            text-align:left;
            cursor:pointer;
            border-radius:10px;
        }

        .sidebar button:hover
        { 
            background:#1f2937; 
        }

        .content
        {
            flex:1;
            padding:25px;
            display:flex;
            flex-direction:column;
        }

        .page-title
        {
            font-size:26px;
            margin-bottom:12px;
        }

        .table-box
        {
            flex:1;
            background:white;
            border-radius:16px;
            box-shadow:0 6px 18px rgba(0,0,0,.15);
            overflow:auto;
        }

        table
        {
            width:100%;
            border-collapse:collapse;
        }

        th,td
        {
            padding:12px 14px;
            border-bottom:1px solid #e5e7eb;
        }

        th
        {
            background:#2563eb;
            color:white;
        }

        tr:nth-child(even)
        {
            background:#f9fafb;
        }

        .bottom-bar
        {
            margin-top:14px;
            background:white;
            padding:16px;
            border-radius:16px;
            box-shadow:0 4px 12px rgba(0,0,0,.15);
            display:flex;
            justify-content:flex-end;
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <h2>Admin Paneli</h2>
        <button onclick="window.location.href='{{url_for('admin.kitapÄ°slemler')}}'">ğŸ“š Kitap Ä°ÅŸlemleri</button>
        <button onclick="window.location.href='{{url_for('admin.yazarlar')}}'">âœï¸ Yazar Ä°ÅŸlemleri</button>
        <button onclick="window.location.href='{{url_for('admin.kategoriler')}}'">ğŸ“‚ Kategori Ä°ÅŸlemleri</button>
        <button onclick="window.location.href='{{url_for('admin.yayinevi')}}'">ğŸ“– YayÄ±nevi Ä°ÅŸlemleri</button>
        <button onclick="window.location.href='{{url_for('admin.cezalar')}}'">â›” KÃ¼tÃ¼phane CezalarÄ±</button>
        <button onclick="window.location.href='{{url_for('admin.kullanicilar')}}'">ğŸ‘¤ KullanÄ±cÄ±lar</button>
        <button onclick="window.location.href='{{url_for('admin.loglar')}}'">ğŸ§¾ KÃ¼tÃ¼phane LoglarÄ±</button>
        <button onclick="window.location.href='{{url_for('admin.adminler')}}'">ğŸ‘¨â€ğŸ’¼ Adminler</button>
        <button onclick="window.location.href='{{url_for('admin.adminInfo')}}'">âš™ï¸ Hesap Bilgileri</button>
        <button class="logout" onclick="window.location.href='{{url_for('admin.logout')}}'">ğŸšª Ã‡Ä±kÄ±ÅŸ</button>
    </div>

    <div class="content">

        <div class="page-title">ğŸ§¾ Cezalar</div>

        <div class="table-box" id="cezaTablosu">
            <p style="padding:20px">Cezalar yÃ¼kleniyor...</p>
        </div>

    </div>

    <script>
        let cezalar = [];
        let cezaTablosu;

        function yukle()
        {
            fetch("/admin/cezalar/veri")
            .then(r=>r.json())
            .then(d=>{
                cezalar = (d && d.data) ? d.data : [];
                tablo();
            });
        }

        function tablo()
        {
            let h = `<table>
            <thead>
                <tr>
                    <th>KullanÄ±cÄ± ID</th>
                    <th>KullanÄ±cÄ± AdÄ±</th>
                    <th>Kitap Ä°smi</th>
                    <th>Ceza (â‚º)</th>
                    <th>Tarih</th>
                </tr>
            </thead>
            <tbody>`;

            cezalar.forEach(c=>{
                h += `<tr>
                    
                    <td>${c.userID}</td>
                    <td>${c.userName}</td>
                    <td>${c.bookName}</td>
                    <td>${c.sum}</td>
                    <td>${c.firstDay}</td>
                </tr>`;
            });

            h += `</tbody></table>`;
            cezaTablosu.innerHTML = h;
        }
        window.onload=()=>{
            cezaTablosu = document.getElementById("cezaTablosu");
            yukle();
        };
    </script>
</body>
</html>
